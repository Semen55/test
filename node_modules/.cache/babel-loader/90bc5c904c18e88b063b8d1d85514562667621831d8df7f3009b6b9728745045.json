{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Samen/Documents/GitHub/test/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11;import*as React from'react';import styled,{css}from'styled-components';import TeamCard from'./team-card';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ButtonCommon=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background-color: #ed453b;\\n  height: 40px;\\n  border: unset;\\n  border-radius: 20px;\\n  color: white;\\n  font-size: 16px;\\n\"])));const ControlsContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n  border-radius: 10px;\\n  width: 350px;\\n  height: 100%;\\n\"])));const AddTeamContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 10px;\\n\"])));const Title=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  color: white;\\n  font-size: 20px;\\n\"])));const AddTeamInput=styled.input(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  height: 40px;\\n  border-radius: 20px;\\n  width: 80%;\\n  border: unset;\\n  outline: unset;\\n  padding-left: 10px;\\n\"])));const AddTeamButton=styled(ButtonCommon)(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  width: 40px;\\n  font-size: 24px;\\n\\n  \",\"\\n\"])),_ref=>{let{isDisabled}=_ref;return isDisabled&&css(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n      pointer-events: none;\\n      background-color: #7c7c7c;\\n    \"])));});const StartGameButton=styled(ButtonCommon)(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),_ref2=>{let{isDisabled}=_ref2;return isDisabled&&css(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n      pointer-events: none;\\n      background-color: #7c7c7c;\\n    \"])));});const NextTurnButton=styled(ButtonCommon)(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),_ref3=>{let{isDisabled}=_ref3;return isDisabled&&css(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n      pointer-events: none;\\n      background-color: #7c7c7c;\\n      display: none;\\n    \"])));});const TeamsList=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n\"])));const GameStatusContainer=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  margin-top: auto;\\n\"])));const GameControls=_ref4=>{let{onTeamAdded,onTeamClick,onGameStart,onTurnComplete,gameState,teams,activeTeam,currentTurn,roundNumber,pendingCaptureZone,captureState}=_ref4;const[teamNameInput,setTeamNameInput]=React.useState('');// Determine attacker and defender team IDs\nlet attackerTeamId=null;let defenderTeamId=null;if(pendingCaptureZone&&captureState&&!captureState.isNeutral){attackerTeamId=activeTeam;defenderTeamId=teams.findIndex(team=>team.zones.includes(pendingCaptureZone));}return/*#__PURE__*/_jsxs(ControlsContainer,{children:[gameState==='prepare'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(AddTeamContainer,{children:[/*#__PURE__*/_jsx(AddTeamInput,{name:\"teamNameInput\",value:teamNameInput,placeholder:\"\\u0418\\u043C\\u044F \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u044B\",onChange:e=>setTeamNameInput(e.target.value)}),/*#__PURE__*/_jsx(AddTeamButton,{onClick:()=>{if(!teamNameInput)return;onTeamAdded(teamNameInput);setTeamNameInput('');},isDisabled:teams.length>6||!teamNameInput,children:\"+\"})]}),/*#__PURE__*/_jsx(StartGameButton,{onClick:onGameStart,isDisabled:teams.length<2,children:\"\\u041D\\u0430\\u0447\\u0430\\u0442\\u044C \\u0438\\u0433\\u0440\\u0443\"})]}),/*#__PURE__*/_jsx(TeamsList,{children:teams.map((team,index)=>/*#__PURE__*/_jsx(TeamCard,{team:team,onTeamClick:()=>onTeamClick(index),isMyTurn:index===activeTeam,gameState:gameState,isAttacker:index===attackerTeamId,isDefender:index===defenderTeamId},team.name))}),gameState!=='prepare'&&/*#__PURE__*/_jsxs(GameStatusContainer,{children:[/*#__PURE__*/_jsx(NextTurnButton,{onClick:()=>onTurnComplete(),isDisabled:true,children:\"TMP NEXT TURN\"}),/*#__PURE__*/_jsxs(Title,{children:[\"\\u0420\\u0430\\u0443\\u043D\\u0434: \",roundNumber]}),/*#__PURE__*/_jsxs(Title,{children:[\"\\u0425\\u043E\\u0434 \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u044B: \",teams[activeTeam].name]})]})]});};export default GameControls;","map":{"version":3,"names":["React","styled","css","TeamCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ButtonCommon","button","_templateObject","_taggedTemplateLiteral","ControlsContainer","div","_templateObject2","AddTeamContainer","_templateObject3","Title","_templateObject4","AddTeamInput","input","_templateObject5","AddTeamButton","_templateObject6","_ref","isDisabled","_templateObject7","StartGameButton","_templateObject8","_ref2","_templateObject9","NextTurnButton","_templateObject0","_ref3","_templateObject1","TeamsList","_templateObject10","GameStatusContainer","_templateObject11","GameControls","_ref4","onTeamAdded","onTeamClick","onGameStart","onTurnComplete","gameState","teams","activeTeam","currentTurn","roundNumber","pendingCaptureZone","captureState","teamNameInput","setTeamNameInput","useState","attackerTeamId","defenderTeamId","isNeutral","findIndex","team","zones","includes","children","name","value","placeholder","onChange","e","target","onClick","length","map","index","isMyTurn","isAttacker","isDefender"],"sources":["C:/Users/Samen/Documents/GitHub/test/src/components/game-controls.js"],"sourcesContent":["import * as React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport TeamCard from './team-card';\r\n\r\nconst ButtonCommon = styled.button`\r\n  background-color: #ed453b;\r\n  height: 40px;\r\n  border: unset;\r\n  border-radius: 20px;\r\n  color: white;\r\n  font-size: 16px;\r\n`;\r\n\r\nconst ControlsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  border-radius: 10px;\r\n  width: 350px;\r\n  height: 100%;\r\n`;\r\n\r\nconst AddTeamContainer = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  color: white;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst AddTeamInput = styled.input`\r\n  height: 40px;\r\n  border-radius: 20px;\r\n  width: 80%;\r\n  border: unset;\r\n  outline: unset;\r\n  padding-left: 10px;\r\n`;\r\n\r\nconst AddTeamButton = styled(ButtonCommon)`\r\n  width: 40px;\r\n  font-size: 24px;\r\n\r\n  ${({ isDisabled }) =>\r\n    isDisabled &&\r\n    css`\r\n      pointer-events: none;\r\n      background-color: #7c7c7c;\r\n    `}\r\n`;\r\n\r\nconst StartGameButton = styled(ButtonCommon)`\r\n  ${({ isDisabled }) =>\r\n    isDisabled &&\r\n    css`\r\n      pointer-events: none;\r\n      background-color: #7c7c7c;\r\n    `}\r\n`;\r\n\r\nconst NextTurnButton = styled(ButtonCommon)`\r\n  ${({ isDisabled }) =>\r\n    isDisabled &&\r\n    css`\r\n      pointer-events: none;\r\n      background-color: #7c7c7c;\r\n      display: none;\r\n    `}\r\n`;\r\n\r\nconst TeamsList = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n`;\r\n\r\nconst GameStatusContainer = styled.div`\r\n  margin-top: auto;\r\n`;\r\n\r\nconst GameControls = ({\r\n  onTeamAdded,\r\n  onTeamClick,\r\n  onGameStart,\r\n  onTurnComplete,\r\n  gameState,\r\n  teams,\r\n  activeTeam,\r\n  currentTurn,\r\n  roundNumber,\r\n  pendingCaptureZone,\r\n  captureState,\r\n}) => {\r\n  const [teamNameInput, setTeamNameInput] = React.useState('');\r\n\r\n  // Determine attacker and defender team IDs\r\n  let attackerTeamId = null;\r\n  let defenderTeamId = null;\r\n\r\n  if (pendingCaptureZone && captureState && !captureState.isNeutral) {\r\n    attackerTeamId = activeTeam;\r\n    defenderTeamId = teams.findIndex((team) => team.zones.includes(pendingCaptureZone));\r\n  }\r\n\r\n  return (\r\n    <ControlsContainer>\r\n      {gameState === 'prepare' && (\r\n        <>\r\n          <AddTeamContainer>\r\n            <AddTeamInput\r\n              name=\"teamNameInput\"\r\n              value={teamNameInput}\r\n              placeholder=\"Имя команды\"\r\n              onChange={(e) => setTeamNameInput(e.target.value)}\r\n            />\r\n            <AddTeamButton\r\n              onClick={() => {\r\n                if (!teamNameInput) return;\r\n                onTeamAdded(teamNameInput);\r\n                setTeamNameInput('');\r\n              }}\r\n              isDisabled={teams.length > 6 || !teamNameInput}\r\n            >\r\n              +\r\n            </AddTeamButton>\r\n          </AddTeamContainer>\r\n          <StartGameButton onClick={onGameStart} isDisabled={teams.length < 2}>\r\n            Начать игру\r\n          </StartGameButton>\r\n        </>\r\n      )}\r\n      <TeamsList>\r\n        {teams.map((team, index) => (\r\n          <TeamCard\r\n            key={team.name}\r\n            team={team}\r\n            onTeamClick={() => onTeamClick(index)}\r\n            isMyTurn={index === activeTeam}\r\n            gameState={gameState}\r\n            isAttacker={index === attackerTeamId}\r\n            isDefender={index === defenderTeamId}\r\n          />\r\n        ))}\r\n      </TeamsList>\r\n      {gameState !== 'prepare' && (\r\n        <GameStatusContainer>\r\n          <NextTurnButton onClick={() => onTurnComplete()} isDisabled={true}>TMP NEXT TURN</NextTurnButton>\r\n          <Title>Раунд: {roundNumber}</Title>\r\n          <Title>Ход команды: {teams[activeTeam].name}</Title>\r\n        </GameStatusContainer>\r\n      )}\r\n    </ControlsContainer>\r\n  );\r\n};\r\n\r\nexport default GameControls;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}