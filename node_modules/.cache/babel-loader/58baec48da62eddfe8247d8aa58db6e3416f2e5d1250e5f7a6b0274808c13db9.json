{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Samen/Documents/GitHub/test/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import*as React from'react';import{ReactComponent as MapSvg}from'./assets/Map.svg';import styled,{css}from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";const MapContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    background: #a1cef6;\\n    border-radius: 10px;\\n    width: 80%;\\n    height: 100%;\\n    \\n    svg {\\n        width: 100%;\\n        height: 100%;\\n        \\n        .zone {\\n            transition: all 0.1s ease-in-out;\\n\\n            \",\"\\n            \\n            path {\\n                fill: #fff3dd;\\n            }\\n            \\n            \",\"\\n            \\n            \",\"\\n        }\\n        \\n        g.base {\\n            display: none;\\n            \\n            \",\"\\n        }\\n    }\\n\"])),_ref=>{let{disableHover}=_ref;return!disableHover&&css(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n                &:hover {\\n                    filter: contrast(0.8);\\n                }\\n            \"])));},_ref2=>{let{zoneColors}=_ref2;return Object.entries(zoneColors).map(_ref3=>{let[zoneId,color]=_ref3;return css(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n                &[data-name=\\\"zone_\",\"\\\"] path {\\n                    fill: \",\";\\n                }\\n            \"])),zoneId,color);});},_ref4=>{let{disabledZones}=_ref4;return disabledZones.map(zoneId=>css(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n                &[data-name=\\\"base_\",\"\\\"] path {\\n                    fill: #666;\\n                }\\n            \"])),zoneId));},_ref5=>{let{basePositions}=_ref5;return basePositions.map(zoneId=>css(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n                &[data-name=\\\"base_\",\"\\\"] {\\n                    display: block;\\n                    \\n                    path {\\n                        fill: #000;\\n                    }\\n                }\\n            \"])),zoneId));});const Map=_ref6=>{let{teams,disabledZones,basePositions,onZoneClick,gameState}=_ref6;const zoneColors=teams.reduce((acc,team)=>{team.zones.forEach(zone=>{acc[zone]=team.color;});return acc;},{});const handleClick=React.useCallback(isRightClick=>event=>{event.preventDefault();const parent=event.target.parentElement;if(!parent||!parent.dataset.name||!parent.dataset.name.split('_')[1])return;console.log('Zone click: ',parent.dataset.name.split('_')[1],isRightClick);onZoneClick(parent.dataset.name.split('_')[1],isRightClick);},[onZoneClick]);return/*#__PURE__*/_jsx(MapContainer,{zoneColors:zoneColors,basePositions:basePositions,disabledZones:disabledZones,disableHover:false,children:/*#__PURE__*/_jsx(MapSvg,{onClick:handleClick(false),onContextMenu:handleClick(true)})});};export default Map;","map":{"version":3,"names":["React","ReactComponent","MapSvg","styled","css","jsx","_jsx","MapContainer","div","_templateObject","_taggedTemplateLiteral","_ref","disableHover","_templateObject2","_ref2","zoneColors","Object","entries","map","_ref3","zoneId","color","_templateObject3","_ref4","disabledZones","_templateObject4","_ref5","basePositions","_templateObject5","Map","_ref6","teams","onZoneClick","gameState","reduce","acc","team","zones","forEach","zone","handleClick","useCallback","isRightClick","event","preventDefault","parent","target","parentElement","dataset","name","split","console","log","children","onClick","onContextMenu"],"sources":["C:/Users/Samen/Documents/GitHub/test/src/components/map.js"],"sourcesContent":["import * as React from 'react';\r\nimport { ReactComponent as MapSvg } from './assets/Map.svg';\r\nimport styled, {css} from \"styled-components\";\r\n\r\nconst MapContainer = styled.div`\r\n    background: #a1cef6;\r\n    border-radius: 10px;\r\n    width: 80%;\r\n    height: 100%;\r\n    \r\n    svg {\r\n        width: 100%;\r\n        height: 100%;\r\n        \r\n        .zone {\r\n            transition: all 0.1s ease-in-out;\r\n\r\n            ${({ disableHover }) => !disableHover && css`\r\n                &:hover {\r\n                    filter: contrast(0.8);\r\n                }\r\n            `}\r\n            \r\n            path {\r\n                fill: #fff3dd;\r\n            }\r\n            \r\n            ${({ zoneColors }) => Object.entries(zoneColors).map(([zoneId, color]) => css`\r\n                &[data-name=\"zone_${zoneId}\"] path {\r\n                    fill: ${color};\r\n                }\r\n            `)}\r\n            \r\n            ${({ disabledZones }) => disabledZones.map(zoneId => css`\r\n                &[data-name=\"base_${zoneId}\"] path {\r\n                    fill: #666;\r\n                }\r\n            `)}\r\n        }\r\n        \r\n        g.base {\r\n            display: none;\r\n            \r\n            ${({ basePositions }) => basePositions.map(zoneId => css`\r\n                &[data-name=\"base_${zoneId}\"] {\r\n                    display: block;\r\n                    \r\n                    path {\r\n                        fill: #000;\r\n                    }\r\n                }\r\n            `)}\r\n        }\r\n    }\r\n`;\r\n\r\nconst Map = ({ teams, disabledZones, basePositions, onZoneClick, gameState }) => {\r\n    const zoneColors = teams.reduce((acc, team) => {\r\n        team.zones.forEach(zone => {\r\n            acc[zone] = team.color;\r\n        });\r\n        return acc;\r\n    }, {});\r\n\r\n    const handleClick = React.useCallback((isRightClick) => (event) => {\r\n        event.preventDefault();\r\n        const parent = event.target.parentElement;\r\n        if (!parent || !parent.dataset.name || !parent.dataset.name.split('_')[1]) return;\r\n\r\n        console.log('Zone click: ', parent.dataset.name.split('_')[1], isRightClick);\r\n        onZoneClick(parent.dataset.name.split('_')[1], isRightClick);\r\n    }, [onZoneClick]);\r\n\r\n    return <MapContainer\r\n        zoneColors={zoneColors}\r\n        basePositions={basePositions}\r\n        disabledZones={disabledZones}\r\n        disableHover={false}\r\n    >\r\n        <MapSvg onClick={handleClick(false)} onContextMenu={handleClick(true)}/>\r\n    </MapContainer>;\r\n};\r\n\r\nexport default Map;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}