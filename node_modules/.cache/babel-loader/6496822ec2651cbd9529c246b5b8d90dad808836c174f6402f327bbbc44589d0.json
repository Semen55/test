{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Samen/Documents/GitHub/test/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import*as React from'react';import styled,{css}from'styled-components';import{ReactComponent as MapSvg}from'./assets/Map.svg';import{jsx as _jsx}from\"react/jsx-runtime\";const MapContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n\\n  svg {\\n    width: 100%;\\n    height: 100%;\\n\\n    .zone {\\n      transition: all 0.1s ease-in-out;\\n\\n      \",\"\\n\\n      path {\\n        fill: #fff3dd;\\n      }\\n\\n      \",\"\\n\\n      \",\"\\n    }\\n\\n    g.base {\\n      display: none;\\n\\n      \",\"\\n    }\\n  }\\n\"])),_ref=>{let{disableHover}=_ref;return!disableHover&&css(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n          &:hover {\\n            filter: contrast(0.8);\\n          }\\n        \"])));},_ref2=>{let{zoneColors}=_ref2;return Object.entries(zoneColors).map(_ref3=>{let[zoneId,color]=_ref3;return css(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n            &[data-name='zone_\",\"'] path {\\n              fill: \",\";\\n            }\\n          \"])),zoneId,color);});},_ref4=>{let{disabledZones}=_ref4;return disabledZones.map(zoneId=>css(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n            &[data-name='base_\",\"'] path {\\n              fill: #666;\\n            }\\n          \"])),zoneId));},_ref5=>{let{basePositions}=_ref5;return basePositions.map(zoneId=>css(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n            &[data-name='base_\",\"'] {\\n              display: block;\\n\\n              path {\\n                fill: #000;\\n              }\\n            }\\n          \"])),zoneId));});const Map=_ref6=>{let{teams,disabledZones,basePositions,onZoneClick}=_ref6;const zoneColors=teams.reduce((acc,team)=>{team.zones.forEach(zone=>{acc[zone]=team.color;});return acc;},{});const handleClick=React.useCallback(isRightClick=>event=>{event.preventDefault();const parent=event.target.parentElement;if(!parent||!parent.dataset.name||!parent.dataset.name.split('_')[1])return;console.log('Zone click: ',parent.dataset.name.split('_')[1],isRightClick);onZoneClick(parent.dataset.name.split('_')[1],isRightClick);},[onZoneClick]);return/*#__PURE__*/_jsx(MapContainer,{zoneColors:zoneColors,basePositions:basePositions,disabledZones:disabledZones,disableHover:false,children:/*#__PURE__*/_jsx(MapSvg,{onClick:handleClick(false),onContextMenu:handleClick(true)})});};export default Map;","map":{"version":3,"names":["React","styled","css","ReactComponent","MapSvg","jsx","_jsx","MapContainer","div","_templateObject","_taggedTemplateLiteral","_ref","disableHover","_templateObject2","_ref2","zoneColors","Object","entries","map","_ref3","zoneId","color","_templateObject3","_ref4","disabledZones","_templateObject4","_ref5","basePositions","_templateObject5","Map","_ref6","teams","onZoneClick","reduce","acc","team","zones","forEach","zone","handleClick","useCallback","isRightClick","event","preventDefault","parent","target","parentElement","dataset","name","split","console","log","children","onClick","onContextMenu"],"sources":["C:/Users/Samen/Documents/GitHub/test/src/components/map.js"],"sourcesContent":["import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { ReactComponent as MapSvg } from './assets/Map.svg';\n\nconst MapContainer = styled.div`\n  width: 100%;\n  height: 100%;\n\n  svg {\n    width: 100%;\n    height: 100%;\n\n    .zone {\n      transition: all 0.1s ease-in-out;\n\n      ${({ disableHover }) =>\n    !disableHover &&\n    css`\n          &:hover {\n            filter: contrast(0.8);\n          }\n        `}\n\n      path {\n        fill: #fff3dd;\n      }\n\n      ${({ zoneColors }) =>\n    Object.entries(zoneColors).map(\n      ([zoneId, color]) => css`\n            &[data-name='zone_${zoneId}'] path {\n              fill: ${color};\n            }\n          `\n    )}\n\n      ${({ disabledZones }) =>\n    disabledZones.map(\n      (zoneId) => css`\n            &[data-name='base_${zoneId}'] path {\n              fill: #666;\n            }\n          `\n    )}\n    }\n\n    g.base {\n      display: none;\n\n      ${({ basePositions }) =>\n    basePositions.map(\n      (zoneId) => css`\n            &[data-name='base_${zoneId}'] {\n              display: block;\n\n              path {\n                fill: #000;\n              }\n            }\n          `\n    )}\n    }\n  }\n`;\n\nconst Map = ({ teams, disabledZones, basePositions, onZoneClick }) => {\n  const zoneColors = teams.reduce((acc, team) => {\n    team.zones.forEach((zone) => {\n      acc[zone] = team.color;\n    });\n    return acc;\n  }, {});\n\n  const handleClick = React.useCallback(\n    (isRightClick) => (event) => {\n      event.preventDefault();\n      const parent = event.target.parentElement;\n      if (!parent || !parent.dataset.name || !parent.dataset.name.split('_')[1]) return;\n\n      console.log('Zone click: ', parent.dataset.name.split('_')[1], isRightClick);\n      onZoneClick(parent.dataset.name.split('_')[1], isRightClick);\n    },\n    [onZoneClick]\n  );\n\n  return (\n    <MapContainer\n      zoneColors={zoneColors}\n      basePositions={basePositions}\n      disabledZones={disabledZones}\n      disableHover={false}\n    >\n      <MapSvg onClick={handleClick(false)} onContextMenu={handleClick(true)} />\n    </MapContainer>\n  );\n};\n\nexport default Map;\n\n\n"],"mappings":"kOAAA,MAAO,GAAK,CAAAA,KAAK,KAAM,OAAO,CAC9B,MAAO,CAAAC,MAAM,EAAIC,GAAG,KAAQ,mBAAmB,CAC/C,OAASC,cAAc,GAAI,CAAAC,MAAM,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,KAAM,CAAAC,YAAY,CAAGN,MAAM,CAACO,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,iTAWvBC,IAAA,MAAC,CAAEC,YAAa,CAAC,CAAAD,IAAA,OACrB,CAACC,YAAY,EACbV,GAAG,CAAAW,gBAAA,GAAAA,gBAAA,CAAAH,sBAAA,wFAIE,GAMDI,KAAA,MAAC,CAAEC,UAAW,CAAC,CAAAD,KAAA,OACnB,CAAAE,MAAM,CAACC,OAAO,CAACF,UAAU,CAAC,CAACG,GAAG,CAC5BC,KAAA,MAAC,CAACC,MAAM,CAAEC,KAAK,CAAC,CAAAF,KAAA,OAAK,CAAAjB,GAAG,CAAAoB,gBAAA,GAAAA,gBAAA,CAAAZ,sBAAA,yGACEU,MAAM,CAChBC,KAAK,GAGvB,CAAC,GAEGE,KAAA,MAAC,CAAEC,aAAc,CAAC,CAAAD,KAAA,OACtB,CAAAC,aAAa,CAACN,GAAG,CACdE,MAAM,EAAKlB,GAAG,CAAAuB,gBAAA,GAAAA,gBAAA,CAAAf,sBAAA,0GACWU,MAAM,CAIlC,CAAC,GAMGM,KAAA,MAAC,CAAEC,aAAc,CAAC,CAAAD,KAAA,OACtB,CAAAC,aAAa,CAACT,GAAG,CACdE,MAAM,EAAKlB,GAAG,CAAA0B,gBAAA,GAAAA,gBAAA,CAAAlB,sBAAA,+KACWU,MAAM,CAQlC,CAAC,GAGJ,CAED,KAAM,CAAAS,GAAG,CAAGC,KAAA,EAA0D,IAAzD,CAAEC,KAAK,CAAEP,aAAa,CAAEG,aAAa,CAAEK,WAAY,CAAC,CAAAF,KAAA,CAC/D,KAAM,CAAAf,UAAU,CAAGgB,KAAK,CAACE,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAK,CAC7CA,IAAI,CAACC,KAAK,CAACC,OAAO,CAAEC,IAAI,EAAK,CAC3BJ,GAAG,CAACI,IAAI,CAAC,CAAGH,IAAI,CAACd,KAAK,CACxB,CAAC,CAAC,CACF,MAAO,CAAAa,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CAEN,KAAM,CAAAK,WAAW,CAAGvC,KAAK,CAACwC,WAAW,CAClCC,YAAY,EAAMC,KAAK,EAAK,CAC3BA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,KAAM,CAAAC,MAAM,CAAGF,KAAK,CAACG,MAAM,CAACC,aAAa,CACzC,GAAI,CAACF,MAAM,EAAI,CAACA,MAAM,CAACG,OAAO,CAACC,IAAI,EAAI,CAACJ,MAAM,CAACG,OAAO,CAACC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE,OAE3EC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEP,MAAM,CAACG,OAAO,CAACC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAER,YAAY,CAAC,CAC5ET,WAAW,CAACY,MAAM,CAACG,OAAO,CAACC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAER,YAAY,CAAC,CAC9D,CAAC,CACD,CAACT,WAAW,CACd,CAAC,CAED,mBACE1B,IAAA,CAACC,YAAY,EACXQ,UAAU,CAAEA,UAAW,CACvBY,aAAa,CAAEA,aAAc,CAC7BH,aAAa,CAAEA,aAAc,CAC7BZ,YAAY,CAAE,KAAM,CAAAwC,QAAA,cAEpB9C,IAAA,CAACF,MAAM,EAACiD,OAAO,CAAEd,WAAW,CAAC,KAAK,CAAE,CAACe,aAAa,CAAEf,WAAW,CAAC,IAAI,CAAE,CAAE,CAAC,CAC7D,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAV,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}